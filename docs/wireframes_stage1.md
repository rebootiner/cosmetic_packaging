# Stage 1 와이어프레임 문서 (이미지 업로드 중심)

## 문서 목적
- Stage 1에서 사용자 목표는 **이미지를 업로드하고, 자동 분석 결과를 확인한 뒤, 필요한 경우 치수를 수정**하는 것입니다.
- 본 문서는 초기 설계/개발/QA가 공통으로 참조할 수 있는 **Low-fi ASCII wireframe + 상태 정의 + CTA 맵**을 제공합니다.

---

## 1) 화면 4개 Low-fi ASCII Wireframe

> 표기 규칙  
> - `[버튼]` : 클릭 가능한 CTA  
> - `( )` : 라디오/토글/보조 옵션  
> - `*` : 상태 메시지 영역

### 화면 1. 업로드 랜딩 (Upload Landing)

#### Desktop
```text
+--------------------------------------------------------------------------------+
| Logo                                  Stage 1: 이미지 업로드            [도움말] |
+--------------------------------------------------------------------------------+
|                                                                                |
|                      ┌──────────────────────────────────────┐                  |
|                      │            업로드 드롭존             │                  |
|                      │   이미지를 드래그하거나 선택하세요    │                  |
|                      │                                      │                  |
|                      │            [파일 선택]               │                  |
|                      └──────────────────────────────────────┘                  |
|                                                                                |
|  지원 형식: JPG/PNG/WebP  | 최대 20MB | 권장 해상도 1200px 이상                |
|                                                                                |
|  ( ) 샘플 이미지로 체험하기      [다음: 업로드 검증으로] (비활성/조건부 활성)     |
|                                                                                |
+--------------------------------------------------------------------------------+
```

#### Mobile
```text
+--------------------------------------+
| Logo                     [도움말]     |
+--------------------------------------+
| Stage 1: 이미지 업로드               |
|                                      |
| ┌──────────────────────────────────┐ |
| │          업로드 드롭존           │ |
| │   탭하여 이미지 선택            │ |
| │          [파일 선택]             │ |
| └──────────────────────────────────┘ |
|                                      |
| 지원: JPG/PNG/WebP, 최대 20MB       |
| 권장 해상도 1200px+                 |
|                                      |
| ( ) 샘플 이미지 체험               |
| [다음: 업로드 검증으로]             |
+--------------------------------------+
```

---

### 화면 2. 업로드/검증 (Upload + Validation)

#### Desktop
```text
+--------------------------------------------------------------------------------+
| Logo                    업로드/검증                            진행 1/3         |
+--------------------------------------------------------------------------------+
| 좌측(미리보기)                               | 우측(검증 패널)                |
| ┌──────────────────────────────────────────┐  | ┌────────────────────────────┐ |
| │            업로드 이미지 미리보기        │  | │ 파일명: room_01.jpg       │ |
| │                                          │  | │ 용량: 4.8MB               │ |
| │  [확대] [축소] [회전]                     │  | │ 해상도: 3024 x 4032       │ |
| └──────────────────────────────────────────┘  | ├────────────────────────────┤ |
|                                               | │ 검증 결과                  │ |
|                                               | │ - 포맷: 통과               │ |
|                                               | │ - 용량: 통과               │ |
|                                               | │ - 초점/흔들림: 경고        │ |
|                                               | │ - 경계 인식: 통과          │ |
|                                               | ├────────────────────────────┤ |
|                                               | │ * 메시지 영역              │ |
|                                               | │ "약간 흔들림 감지"         │ |
|                                               | └────────────────────────────┘ |
|                                                                                |
| [이전]                              [다시 업로드]      [분석 시작]              |
+--------------------------------------------------------------------------------+
```

#### Mobile
```text
+--------------------------------------+
| 업로드/검증              진행 1/3    |
+--------------------------------------+
| ┌──────────────────────────────────┐ |
| │      업로드 이미지 미리보기      │ |
| └──────────────────────────────────┘ |
| [확대] [회전] [다시 업로드]         |
|                                      |
| 파일명: room_01.jpg                 |
| 용량: 4.8MB / 해상도: 3024x4032     |
|                                      |
| 검증 결과                            |
| - 포맷: 통과                         |
| - 용량: 통과                         |
| - 초점/흔들림: 경고                  |
| - 경계 인식: 통과                    |
| * 약간 흔들림 감지                  |
|                                      |
| [이전]                [분석 시작]    |
+--------------------------------------+
```

---

### 화면 3. 분석중 (Processing)

#### Desktop
```text
+--------------------------------------------------------------------------------+
| Logo                          분석중...                             진행 2/3    |
+--------------------------------------------------------------------------------+
|                                                                                |
|                     ┌──────────────────────────────────┐                       |
|                     │         분석 애니메이션          │                       |
|                     │         (스켈레톤/로더)          │                       |
|                     └──────────────────────────────────┘                       |
|                                                                                |
|                          분석 진행률: 68%                                     |
|                     [███████████████░░░░░░░]                                  |
|                                                                                |
|  현재 단계: 경계 추출 → 객체 분리 → 치수 계산                                  |
|  예상 남은 시간: 약 12초                                                       |
|                                                                                |
|                           [백그라운드로 보내기] [취소]                         |
|                                                                                |
+--------------------------------------------------------------------------------+
```

#### Mobile
```text
+--------------------------------------+
| 분석중...                 진행 2/3    |
+--------------------------------------+
|                                      |
| ┌──────────────────────────────────┐ |
| │      분석 애니메이션/로더        │ |
| └──────────────────────────────────┘ |
|                                      |
| 진행률: 68%                          |
| [███████████████░░░░░░░]             |
| 현재: 경계 추출 → 객체 분리         |
| 남은 시간: 약 12초                  |
|                                      |
| [백그라운드]          [취소]         |
+--------------------------------------+
```

---

### 화면 4. 결과 + 치수수정 (Result + Dimension Edit)

#### Desktop
```text
+--------------------------------------------------------------------------------+
| Logo                    분석 결과 / 치수 수정                     진행 3/3      |
+--------------------------------------------------------------------------------+
| 좌측(결과 뷰어)                               | 우측(치수 패널)                |
| ┌──────────────────────────────────────────┐  | ┌────────────────────────────┐ |
| │   이미지 + 오버레이(치수선/라벨)          │  | │ 자동 추출 치수 목록        │ |
| │                                          │  | │ 1) 폭 A: 2400 mm [수정]    │ |
| │   ───── A=2400mm ─────                    │  | │ 2) 높이 B: 2700 mm [수정]  │ |
| │      │      객체      │                   │  | │ 3) 깊이 C: 600 mm [수정]   │ |
| │      └────────────────┘                   │  | ├────────────────────────────┤ |
| │                                          │  | │ 선택 치수 수동 입력         │ |
| │  [오버레이 On/Off] [확대] [원본보기]      │  | │ 값: [        ] mm          │ |
| └──────────────────────────────────────────┘  | │ [적용] [원복]              │ |
|                                               | ├────────────────────────────┤ |
|                                               | │ 신뢰도: 92%                │ |
|                                               | │ * 편집 이력/경고 메시지     │ |
|                                               | └────────────────────────────┘ |
|                                                                                |
| [재분석] [보고서 미리보기]                                   [결과 저장/다음]   |
+--------------------------------------------------------------------------------+
```

#### Mobile
```text
+--------------------------------------+
| 결과 / 치수수정            진행 3/3  |
+--------------------------------------+
| ┌──────────────────────────────────┐ |
| │ 이미지 + 치수 오버레이           │ |
| └──────────────────────────────────┘ |
| [오버레이] [확대] [원본]            |
|                                      |
| 자동 추출 치수                       |
| 1) 폭 A: 2400 mm [수정]             |
| 2) 높이 B: 2700 mm [수정]           |
| 3) 깊이 C: 600 mm [수정]            |
|                                      |
| 선택 치수 입력 [      ] mm          |
| [적용] [원복]                        |
| 신뢰도: 92%                          |
| * 편집 이력/경고 메시지             |
|                                      |
| [재분석] [저장/다음]                 |
+--------------------------------------+
```

---

## 2) 각 화면 컴포넌트 목록

### 화면 1. 업로드 랜딩
- 공통 헤더: 로고, 도움말
- 업로드 드롭존(Drag & Drop + 탭 업로드)
- 파일 선택 버튼
- 지원 포맷/용량/해상도 안내 텍스트
- 샘플 이미지 체험 체크 옵션
- 다음 단계 CTA(조건부 활성)

### 화면 2. 업로드/검증
- 이미지 미리보기 패널
- 미리보기 제어(확대/축소/회전)
- 파일 메타 정보(이름, 용량, 해상도)
- 검증 체크리스트(포맷/용량/흔들림/경계)
- 상태 메시지 영역(경고/오류/가이드)
- 내비게이션 CTA(이전, 다시 업로드, 분석 시작)

### 화면 3. 분석중
- 단계 헤더(진행 2/3)
- 분석 로더(애니메이션 또는 스켈레톤)
- 퍼센트 기반 진행률 바
- 현재 분석 단계 텍스트
- 예상 남은 시간
- 제어 CTA(백그라운드, 취소)

### 화면 4. 결과+치수수정
- 결과 뷰어(오버레이 렌더링)
- 보기 제어(오버레이 On/Off, 확대, 원본)
- 자동 추출 치수 리스트
- 개별 치수 수정 버튼/입력 필드
- 적용/원복 액션
- 신뢰도 표시 + 편집 이력 메시지
- 하단 CTA(재분석, 보고서 미리보기, 결과 저장/다음)

---

## 3) 상태별 UI 변화 (기본/경고/오류/로딩)

### 공통 상태 토큰(권장)
- 기본(Default): 중립 컬러, 기본 안내 문구
- 경고(Warning): 노랑/주황 배지, 수정 권고 문구
- 오류(Error): 빨강 배지, 진행 차단 + 해결 CTA
- 로딩(Loading): 버튼 비활성, 스피너/스켈레톤 노출

### 화면별 상태 변화

#### 화면 1. 업로드 랜딩
- 기본: 드롭존 비어 있음, "파일 선택" 활성
- 경고: 해상도 낮음 예상 시 안내 배너(진행 가능)
- 오류: 미지원 포맷/용량 초과 시 즉시 에러 + 다음 CTA 비활성
- 로딩: 파일 선택 직후 썸네일 생성 중 스피너 표시

#### 화면 2. 업로드/검증
- 기본: 검증 항목 모두 통과 또는 경고 포함
- 경고: 흔들림/경계 불명확 시 경고 아이콘 + "재촬영 권장" 노출(분석 시작은 가능)
- 오류: 이미지 손상/분석 불가 품질 시 "분석 시작" 비활성 + "다시 업로드" 강조
- 로딩: 검증 계산 중 체크리스트 항목별 스켈레톤/순차 체크 표시

#### 화면 3. 분석중
- 기본: 실시간 진행률 업데이트
- 경고: 예상 시간 초과 시 "지연" 배지 + 백그라운드 권장
- 오류: 분석 실패 시 오류 모달 + [재시도] [업로드로 돌아가기]
- 로딩: 전 구간 로딩 상태(취소 제외 CTA 제한)

#### 화면 4. 결과+치수수정
- 기본: 자동 추출값 표시, 저장 CTA 활성
- 경고: 신뢰도 임계치 미만(예: <85%) 시 검토 배너 + 수정 유도
- 오류: 치수 입력 범위 초과/형식 오류 시 입력 필드 빨강 + 적용 불가
- 로딩: 재분석/적용 처리 중 해당 행 또는 전체 패널 비활성

---

## 4) 반응형 차이 (모바일/데스크톱)

### 레이아웃
- 데스크톱: 2-컬럼 중심 (미리보기/결과 뷰어 + 정보 패널)
- 모바일: 1-컬럼 스택, 핵심 CTA 하단 고정(Sticky)

### 상호작용
- 데스크톱: Hover 툴팁, 드래그 앤 드롭 기본
- 모바일: 탭 중심, 드롭 대신 파일 피커/카메라 연결 우선

### 정보 밀도
- 데스크톱: 검증 항목/치수 리스트 동시 노출
- 모바일: 아코디언 또는 접힘 카드로 단계적 공개

### CTA 배치
- 데스크톱: 하단 우측 Primary, 좌측 Secondary
- 모바일: 하단 고정 바에 Primary 우선, Secondary는 보조 버튼/텍스트 링크

### 피드백 방식
- 데스크톱: 패널 내 인라인 메시지 + 토스트 병행
- 모바일: 화면 상단 배너 + 하단 시트(입력 오류 집중 안내)

---

## 5) 클릭 가능한 CTA 맵

### 화면 1. 업로드 랜딩
- `파일 선택` → 시스템 파일 피커 오픈
- `다음: 업로드 검증으로` → 파일 존재 + 최소 검증 통과 시 화면 2
- `도움말` → 업로드 가이드 모달
- `(샘플 이미지 체험)` → 샘플 데이터 로드 후 화면 2

### 화면 2. 업로드/검증
- `이전` → 화면 1
- `다시 업로드` → 파일 피커 재오픈, 현재 파일 교체
- `분석 시작` → 검증 성공/경고 상태에서 화면 3
- `확대/축소/회전` → 미리보기 뷰 조작

### 화면 3. 분석중
- `백그라운드로 보내기` → 분석 지속 + 알림 등록
- `취소` → 확인 모달 후 화면 2로 복귀(작업 폐기)

### 화면 4. 결과+치수수정
- `수정`(행 단위) → 해당 치수 입력 포커스
- `적용` → 입력값 유효성 통과 시 반영 + 이력 기록
- `원복` → 해당 치수 자동 추출값으로 롤백
- `오버레이 On/Off` → 시각 레이어 표시 토글
- `재분석` → 화면 3으로 이동 후 재처리
- `보고서 미리보기` → 요약 모달/새 화면
- `결과 저장/다음` → Stage 1 완료, Stage 2 진입

---

## 부록: 구현 체크포인트(핵심)
- 분석 시작 조건: `필수 검증(포맷/용량) 통과`
- 저장 가능 조건: `치수 입력 오류 0건`
- 경고 허용 정책: 경고 상태에서도 진행 가능하되, 결과 화면에서 재확인 배너 필수
- 모바일 접근성: 하단 CTA가 키보드 오픈 시 가려지지 않도록 Safe Area/Inset 대응
